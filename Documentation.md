# Документация
## В документации описаны методы и сущности требующие пояснения по использованию и мои мысли
### Архитектура
Репозиторий разбит на несколько пакетов
1. cell
> Этот пакет содержит в себе различные классы представляющие собой ячейку. В основном они все просто POJO, и нужны
чтобы их обрабатывали другие классы
2. config
> Этот пакет содержит в себе различные классы ответсвенные за старт приложения
3. dto
> Этот пакет содержит в себе различные POJO, чтобы удобно классы обменивались данными
4. field
> Этот пакет содержит в себе различные классы представляющие собой абстракцию барабана. Есть 2 поля, UsualField и
HoldAndWinField
5. generator
> Этот пакет содержит в себе генераторы барабана и генераторы ячеек
6. handler
> Это пакет содержит в себе различные обработчики барабана. Они принимают SpinContext и анализируют барабан, каждый
со своей логикой. И если они увидели какое то событие, то изменяют контекст

Далее будут описаны некоторые важные классы из части пакетов, не все. Я думаю не стоит подробно описывать,
легче посмотреть код. Я больше здесь опишу идеи.
#### Пакет field
##### Классы

1. класс Field - это интерфейс который говорит, что рееализиации должны быть способны крутить барабан, проверять его
получать и устанавливать барабан, а также передавать состояние барабана другому полю.
2. UsualField - реализация интерфейса Field. Она достаточно простая. Все что она делает это заполняет случайным
образом сетку (барабан) и проверяет результаты через цепочку обработчиков
3. HoldAndWinField похожий класс на UsualField. Но у него конечно другие обработчики (фабрика сама их подбирает)
при созданиее поля. Также это поле собирает весь выигрыш в бонусах Ра и удерживает бонусы Ра на месте как описано в 
правилах в файле README.md

#### Пакет generator
##### Классы
1. класс CellTypeDeterminator - просто решает, какой тип клетки будет заполнять данное место в барабане. 
2. класс BonusGenerator - генерирует бонусы в клетке как согласно правилам. Ра бонус только в центральной вертикале, 
обычные бонусы по 1 и 3 вертикале.
3. класс PrizeGenerator - просто генерирует призы с вероятностями
4. SymbolGenerator - очень интересный класс. Он генерирует символы, и он также увеличивает вероятность выпадения 
комбинации, чтобы было интересно играть. Если он видит, что уже 2 символа в линии одинаковые, то он значительно повышает
вероятность выпадения такого же символа. Если эту опцию убрать, то RTP уменьшится с примерно 78 %, до 50 %.

#### Пакет generator.layout
##### Классы
1. Класс FieldLayoutGenerator - интерфейс реализации, которого должны уметь заполнять поле. В играх не связанных с деньгами 
(например в играх Brawl Stars, Clash Royale, и других) вероятность выпадения новых вещей зависит от истории. 
Если например человеку невезло долго ему могут подкинуть выигрыш, и наоборот. Поэтому генераторы могут быть самые разные
как рандомные, так и умные. Здесь же обычный рандомный генератор
2. RandomFieldLayoutGenerator - реализация FieldLayoutGenerator. Обычный  рандомный генератор

#### Пакет handler
##### Классы
1. Класс ReelsHandlerManager - главный класс в цепочке обязанностей. Он собирает цепочку и сам является первым звеном
2. Класс LineLayouts - класс хранящий в себе маски линий на которых могут быть комбинации


#### Пакет handler.holdandwin
##### Классы
1. Класс HoldAndWinBonusReelsHandler - если выпадают бонусы на барабане в режиме holdandwin, то число респинов
приравнивается к 3. Если число спинов стало равным 0, то устанавливает режим следующего спина в USUAl
2. Класс HoldAndWinPrizeReelsHandler - собирает награду с призов если они выпали на барабане

#### Пакет handler.holdandwin
##### Классы
1. Класс BonusReelsHandler - класс который анализирует выпадение бонусов в обычном режиме. Если выпадают бонусы
то либо сразу устанавливается, что в следующем спине будет hold and win режим, либо используется механика
CHEST OF GOLD, которая дает шанс перейти в режим hold and win
2. Класс SymbolLineReelsHandler - проходи по маскам возможных комбинаций и если выходит 3 в ряд, то добавляет награду
в контекст

### Тесты
Также были написаны тесты. Тесты были написаны так, чтобы проверять стандартные случаи использования
класса и тесты на краевые случаи